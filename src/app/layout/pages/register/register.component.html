<div class="w-75 mx-auto">
    <h1 class="h6">Register Now: </h1>
    <form [formGroup]="registerform" (ngSubmit)="submitreg()">
        @if (errmsg) {
        <div class="alert alert-dark m-0 p-0 ">
            <p class="p-0 m-0 "> {{errmsg}}</p>
        </div>
        }



        <div class="my-3">
            <label for="">Name :</label>
            <input type="text" formControlName="name" class="form-control">

            @if (registerform.get('name')?.errors && registerform.get('name')?.touched){
            <div class="alert alert-dark w-25 p-0 m-0  ">
                @if (registerform.get('name')?.errors?.['required']){
                <p class="p-1 m-0">Name is requierd</p>
                }
                @else if (registerform.get('name')?.errors?.["minlength"]){
                <p class="p-1 m-0"> Name min length is : 4</p>
                }
                @else if (registerform.get('name')?.errors?.['maxlength']){
                <p class="p-1 m-0"> Name max length is : 8</p>
                }

            </div>
            }

        </div>
        <div class="my-3">
            <label for="">Email :</label>
            <input type="email" formControlName="email" class="form-control">
            @if (registerform.get('email')?.errors && registerform.get('email')?.touched) {
            <div class="alert alert-dark w-25 m-0 p-0 ">
                @if (registerform.get('email')?.errors?.['required']) {
                <p class="p-1 m-0">Email is required</p>
                }
                @else if (registerform.get('email')?.errors?.['email']) {
                <p class="p-1 m-0">its not a valid Email </p>
                }
            </div>
            }

        </div>
        <div class="my-3">
            <label for="">Phone :</label>
            <input type="tel" formControlName="phone" class="form-control">
            @if (registerform.get('phone')?.errors && registerform.get('phone')?.touched) {
            <div class="alert alert-dark w-25 m-0 p-0 ">
                @if (registerform.get('phone')?.errors?.['required']) {
                <p class="p-1 m-0">phone is required</p>
                }
                @else if (registerform.get('phone')?.errors?.['pattern']) {
                <p class="p-1 m-0">its not a valid phone </p>
                }
            </div>
            }
        </div>
        <div class="my-3">
            <label for="">Password :</label>
            <input type="text" formControlName="password" class="form-control">
            @if (registerform.get('password')?.errors && registerform.get('password')?.touched) {
            <div class="alert alert-dark w-25 m-0 p-0 ">
                @if (registerform.get('password')?.errors?.['required']) {
                <p class="p-1 m-0">password is required</p>
                }
                @else if (registerform.get('password')?.errors?.['pattern']) {
                <p class="p-1 m-0">its not a valid password </p>
                }
            </div>
            }
        </div>
        <div class="my-3">
            <label for="">rePassword :</label>
            <input type="text" formControlName="rePassword" class="form-control">
            @if (registerform.get('rePassword')?.errors && registerform.get('rePassword')?.touched) {
            <div class="alert alert-dark w-25 m-0 p-0 ">
                @if (registerform.get('rePassword')?.errors?.['required']) {
                <p class="p-1 m-0">rePassword is required</p>
                }
                @else if (registerform.get('rePassword')?.errors?.['notSame']) {
                <p class="p-1 m-0"> rePassword not match password </p>
                }
            </div>
            }
        </div>
        <button [disabled]="registerform.invalid" class=" btn bg-black text-white   mb-3 ms-auto  d-block ">
            @if (isloading) {
            <span class=""><i class="fa fa-spin fa-spinner "></i> </span>

            }
            @else () { 
                <span>Register</span>
            }
        </button>
    </form>
</div>